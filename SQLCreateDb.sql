if (DB_ID ('CalendarProject') IS NULL)
		CREATE DATABASE CalendarProject
go

BEGIN TRY
	BEGIN TRAN

	USE CalendarProject

	CREATE TABLE dbo.RESERVATION (
	ID INT NOT NULL IDENTITY (1,1),
	TIME CHAR(5) NOT NULL,
	DATE CHAR(10) NOT NULL,
	RESERVED BIT NOT NULL DEFAULT 0,
	EMAIL VARCHAR(30),
	PHONE VARCHAR(30),
	FIRSTNAME VARCHAR(30),
	LASTNAME VARCHAR(30)
	CONSTRAINT PK_ID PRIMARY KEY (ID)
	)


	insert into dbo.reservation (time, date )
	VALUES ( '15:00', '2016-11-01'),
	('17:00', '2016-11-01'),
	('19:00', '2016-11-01'),
	('15:00', '2016-11-02'),
	('17:00', '2016-11-02'),
	('19:00', '2016-11-02'),
	('15:00', '2016-11-03'),
	('17:00', '2016-11-03'),
	('19:00', '2016-11-03'),
	('15:00', '2016-11-04'),
	('17:00', '2016-11-04'),
	('19:00', '2016-11-04'),
	('15:00', '2016-11-05'),
	('17:00', '2016-11-05'),
	('19:00', '2016-11-05'),
	('15:00', '2016-11-06'),
	('17:00', '2016-11-06'),
	('19:00', '2016-11-06'),
	('15:00', '2016-11-07'),
	('17:00', '2016-11-07'),
	('19:00', '2016-11-07'),
	('15:00', '2016-11-08'),
	('17:00', '2016-11-08'),
	('19:00', '2016-11-08'),
	('15:00', '2016-11-09'),
	('17:00', '2016-11-09'),
	('19:00', '2016-11-09'),
	('15:00', '2016-11-10'),
	('17:00', '2016-11-10'),
	('19:00', '2016-11-10'),
	('15:00', '2016-11-11'),
	('17:00', '2016-11-11'),
	('19:00', '2016-11-11'),
	('15:00', '2016-11-12'),
	('17:00', '2016-11-12'),
	('15:00', '2016-11-13'),
	('17:00', '2016-11-13'),
	('19:00', '2016-11-13'),
	('15:00', '2016-11-14'),
	('17:00', '2016-11-14'),
	('19:00', '2016-11-14'),
	('15:00', '2016-11-15'),
	('17:00', '2016-11-15'),
	('19:00', '2016-11-15'),
	('15:00', '2016-11-16'),
	('17:00', '2016-11-16'),
	('19:00', '2016-11-16'),
	('15:00', '2016-11-17'),
	('17:00', '2016-11-17'),
	('19:00', '2016-11-17'),
	('15:00', '2016-11-18'),
	('17:00', '2016-11-18'),
	('19:00', '2016-11-18'),
	('15:00', '2016-11-19'),
	('17:00', '2016-11-19'),
	('19:00', '2016-11-19'),
	('15:00', '2016-11-20'),
	('17:00', '2016-11-20'),
	('19:00', '2016-11-20'),
	('15:00', '2016-11-21'),
	('17:00', '2016-11-21'),
	('19:00', '2016-11-21'),
	('15:00', '2016-11-22'),
	('17:00', '2016-11-22'),
	('15:00', '2016-11-23'),
	('17:00', '2016-11-23'),
	('19:00', '2016-11-23'),
	('15:00', '2016-11-24'),
	('17:00', '2016-11-24'),
	('19:00', '2016-11-24'),
	('15:00', '2016-11-25'),
	('17:00', '2016-11-25'),
	('19:00', '2016-11-25'),
	('15:00', '2016-11-26'),
	('17:00', '2016-11-26'),
	('19:00', '2016-11-26'),
	('15:00', '2016-11-27'),
	('17:00', '2016-11-27'),
	('19:00', '2016-11-27'),
	('15:00', '2016-11-28'),
	('17:00', '2016-11-28'),
	('19:00', '2016-11-28'),
	('15:00', '2016-11-29'),
	('17:00', '2016-11-29'),
	('19:00', '2016-11-29'),
	('15:00', '2016-11-30'),
	('17:00', '2016-11-30'),
	('19:00', '2016-11-30')

	COMMIT
	PRINT 'Creation successful'
END TRY
BEGIN CATCH
	ROLLBACK
	PRINT 'Creation failed'
END CATCH
GO